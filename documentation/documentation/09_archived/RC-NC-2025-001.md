---
Record ID: RC-NC-2025-001
Title: Corrective Action Log – ISO 9001 Audit Findings (2025-09-20)
Date Raised: 2025-09-22
Owner: Quality Lead
Status: Open
Related Documents: RC-QMS-005; docs/legacy/audits/ISO_9001_AUDIT_2025-09-20.md; COMPREHENSIVE_SYSTEM_STATUS.md
---

# Corrective Action Log – ISO 9001 Audit Findings (2025-09-20)

## Summary
This log tracks remediation of the three nonconformities identified during the 2025-09-20 legacy ISO 9001 audit. Actions follow RC-QMS-005 and will be reviewed during the Q4 FY25 management review (RC-MR-2025-001). Verification evidence is captured under `records/verification/RC-NC-2025-001/`.

## Nonconformity Status
| NC ID | Type | Clause | Description | Containment | Target Due Date | Owner | Status |
|-------|------|--------|-------------|-------------|-----------------|-------|--------|
| NC-001-2025-09-20 | Major | 8.1 | Critical services down: unified_api, leantime, prometheus | Service restart plan documented; monitoring alerts configured | 2025-10-15 | Platform Operations Lead | In progress |
| NC-002-2025-09-20 | Minor | 8.5.1 | Services unhealthy: chromadb, grafana, file_system | Temporary failover to backup instances | 2025-10-10 | Platform Operations Lead | In progress |
| NC-005-2025-09-20 | Major | 8.1 | API Gateway documented at port 18000 not operational | Routed traffic through fallback API gateway | 2025-10-05 | API Engineering Lead | In progress |

## Root Cause Analysis Plan
- 5-Why analysis captured below for each nonconformity (completed 2025-09-22).
- Follow-up validation actions tracked in the Corrective Action Tasks table; additional evidence to be stored under `records/verification/`.

### NC-001-2025-09-20 Root Cause Analysis (Major)
1. **Why** were unified_api, leantime, prometheus down? → Supervisor service attempted restart but failed due to missing environment variables.
2. **Why** were environment variables missing? → Deployment playbook skipped secret injection on hosts provisioned after 2025-09-01.
3. **Why** was the playbook skipping secret injection? → Conditional check incorrectly excluded hosts tagged as `autoscale=true`.
4. **Why** was the tag condition incorrect? → Template inherited from staging script without production override review.
5. **Why** was the staging template used without review? → Change merged during after-hours hotfix without running full deployment validation checklist.

**Root Cause:** Production deployment script reused staging condition that skipped secret injection for autoscaled nodes; absence of checklist enforcement allowed the regression.

**Corrective Action Link:** CA-2025-001, CA-2025-002.

### NC-002-2025-09-20 Root Cause Analysis (Minor)
1. **Why** were chromadb, grafana, file_system unhealthy? → Health probes failed due to outdated TLS certificates on internal load balancer.
2. **Why** were certificates outdated? → Automated renewal job could not write new certificates to shared storage.
3. **Why** could the job not write certificates? → Storage mount went read-only following kernel update on 2025-09-15.
4. **Why** did the kernel update cause read-only mount? → fstab entry lacked `nofail` and `x-systemd.after=network.target`, triggering remount in degraded mode.
5. **Why** was the fstab entry incorrect? → Infrastructure hardening story deferred verification in August 2025 due to resource constraints.

**Root Cause:** Read-only shared storage prevented certificate renewal because infrastructure hardening changes left fstab misconfigured post-kernel update.

**Corrective Action Link:** CA-2025-003.

### NC-005-2025-09-20 Root Cause Analysis (Major)
1. **Why** was the API gateway offline? → Container orchestration scaled deployment to zero after failing liveness probe.
2. **Why** did the liveness probe fail? → Probe endpoint `/health` removed in v3.4 release but deployment manifest still pointed to it.
3. **Why** was the manifest outdated? → Release checklist update not propagated to infrastructure repository.
4. **Why** was the checklist update missed? → Documentation change happened in legacy repo and was not mirrored to active deployment guides.
5. **Why** was there no mirroring? → Lack of automated synchronization between legacy documentation and active runbooks.

**Root Cause:** Deployment manifest retained deprecated health endpoint because checklist updates remained in legacy documentation and never synchronized to production runbooks.

**Corrective Action Link:** CA-2025-004, CA-2025-005.

## Corrective Action Tasks
| Task ID | Related NC | Description | Owner | Due Date | Status |
|---------|------------|-------------|-------|----------|--------|
| CA-2025-001 | NC-001 | Restore unified_api, leantime, prometheus services and document verification evidence | Platform Operations Lead | 2025-10-15 | Open |
| CA-2025-002 | NC-001 | Update service monitoring playbook with restart procedures | Documentation Manager | 2025-10-12 | Open |
| CA-2025-003 | NC-002 | Patch dependencies for chromadb, grafana, file_system and confirm health checks | Platform Operations Lead | 2025-10-10 | Open |
| CA-2025-004 | NC-005 | Validate API Gateway deployment, update configuration docs, and attach test logs | API Engineering Lead | 2025-10-05 | Open |
| CA-2025-005 | NC-005 | Review and update FEATURES.md references to align with current architecture | Documentation Manager | 2025-10-07 | Open |

## Verification & Closure Plan
- Verification owners assigned during management review; evidence to be stored in `records/verification/` upon completion.
- Initial verification placeholders created (see below) and will be updated as evidence is gathered.
- Closure requires approval signatures from Quality Lead and Chief Operating Officer.

### Verification Evidence Checklist
| Related NC | Evidence Required | Owner | Status |
|------------|------------------|-------|--------|
| NC-001-2025-09-20 | Service restart logs + updated deployment checklist (`records/verification/RC-NC-2025-001/NC-001-service-restart.md`) | Platform Operations Lead | In progress |
| NC-002-2025-09-20 | Storage mount remediation plan + renewed certificates (`records/verification/RC-NC-2025-001/NC-002-storage-remediation.md`) | Platform Operations Lead | In progress |
| NC-005-2025-09-20 | Updated manifest in repo + passing liveness probe screenshot (`records/verification/RC-NC-2025-001/NC-005-api-gateway.md`) | API Engineering Lead | In progress |

## Communication Notes
- Notify Operations and API teams of action deadlines via internal channel.
- Summarize progress in weekly status report until all NCs closed.
