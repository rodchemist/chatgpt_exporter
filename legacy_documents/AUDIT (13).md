Repository Audit Criteria (v1.0)
1) Identity & Governance (5%)

    LICENSE present and compatible with intended use.

    README: purpose, quickstart, status/badges, support channels.

    MAINTAINERS/CODEOWNERS with >1 active owner.

    CONTRIBUTING, CODE_OF_CONDUCT, SECURITY.md (vuln reporting path).

    Bus-factor & stewardship plan (release keys, CI secrets ownership).

2) Structure & Hygiene (10%)

    Predictable layout (e.g., src/, tests/, docs/, examples/, .github/).

    .gitignore sane; no secrets/binaries checked in (use LFS when needed).

    Clear module boundaries; minimal root clutter; consistent naming.

    Large files tracked intentionally; repo size < expected baseline.

3) Build & Reproducibility (10%)

    One-command setup/build: make build / task build / just build.

    Pinned environments: lockfiles (e.g., poetry.lock, package-lock.json), or environment.yml with exact versions.

    Deterministic containers: multi-stage, pinned base image, non-root user.

    Rebuild instructions verified on Linux/macOS/Windows (or WSL).

4) Code Quality & Style (10%)

    Linters/formatters enforced in CI:
    Python(ruff+black+mypy), JS/TS(ESLint+tsc+Prettier), Go(vet+fmt), Rust(clippy+fmt).

    Complexity & size gates (e.g., max cyclomatic, max file length).

    Dead code & unused deps detection.

    Clear error handling; no silent catches.

5) Testing & Quality Gates (12%)

    Unit/integration/e2e separation; deterministic tests (no live network unless mocked).

    Coverage target (default ≥80%) & trend tracked.

    Property-based tests where suitable (e.g., Hypothesis/fast-check).

    Test data fixtures versioned; seeds fixed; flaky tests quarantined.

6) Security & Secrets (15%)

    Secrets scanning (gitleaks/truffleHog) required in CI + pre-commit.

    SAST (semgrep/bandit/etc.) + dependency audit (osv-scanner/pip-audit/npm audit/cargo audit).

    SBOM (Syft) produced per release; vuln scan (Grype/Trivy) on images.

    Signed commits/tags; branch protection; least-privilege CI tokens.

    SECURITY.md includes disclosure SLA & supported versions.

7) Dependencies & Supply Chain (8%)

    Minimal dependency surface; no abandoned/unknown publishers.

    Automated updates (Renovate/Dependabot) with pinning policy.

    License compatibility verified; third-party notices generated.

    Reproducible builds verified from source (where applicable).

8) Documentation (8%)

    Getting started, architecture overview, ADRs for major decisions.

    API docs autogenerated; runnable examples/tutorials.

    CHANGELOG (Keep a Changelog) aligned with SemVer.

    Ops runbooks: deploy, rollback, hotfix.

9) CI/CD & Release Management (10%)

    CI is fast, reliable, and required for merges; caches configured.

    Matrix tests across OS/versions; artifact retention policy.

    Versioning via SemVer; release tags, notes, signed artifacts.

    CD (if applicable) gated by tests/scans; rollback plan verified.

10) Observability, Config & Runtime (5%)

    Structured logging with levels, PII redaction, correlation IDs.

    Config via env (12-factor); secrets via vault/runner secrets.

    Metrics/health endpoints; basic traces where relevant.

    Standardized caching strategy (keys, TTLs, warmup).

11) Data & File Validation Readiness (4%)

    JSON/YAML schemas; linting (yamllint, jsonschema).

    CSV/table validation (frictionless/pandera/Great Expectations).

    Data retention & PII handling policy; synthetic datasets for tests.

    LFS policy documented and enforced.

12) Maintainability & Project Health (3%)

    Issue/PR templates; labels; SLA for triage.

    Backlog hygiene; roadmap visibility.

    Pre-commit hooks configured; local “dev loop” < 2 min.

Scoring Rubric (100 pts)

    Critical fail if: no license; no CI; secrets in repo; no build path.

    Grade bands: 90–100 excellent, 75–89 good, 60–74 needs work, <60 high risk.

Quick Audit Flow (3 passes)
A) 30-Minute Triage

    Check presence of: LICENSE, README, CI, tests, lockfiles, SECURITY.md, CHANGELOG, CODEOWNERS.

    Run: git log --oneline --decorate --graph -n 50 (release hygiene).

    Snapshot risk: secrets, missing CI, unpinned deps, failing build.

B) Automated Sweep

    Pre-commit: pre-commit run -a.

    Static: linters + SAST.

    Deps & SBOM: osv-scanner, pip-audit/npm audit, syft . -o json > sbom.json, grype sbom:sbom.json.

    Test: run full suite with coverage; record runtime & flakiness.

C) Manual Deep Dive

    Architecture review (ADRs vs code reality).

    Error handling, boundaries, and invariants.

    Operational runbooks and rollback test.

    Review top 10 heaviest files/functions and slowest tests.

Required Artifacts (deliverables)

    Audit report (summary, score per section, risks H/M/L, evidence).

    Fix list with owners, effort (S/M/L), and target dates.

    Baseline metrics (build time, test time, coverage, open vuln count).

    Signed summary (who audited, when, commit/tag).

Default Thresholds (you can adopt as-is)

    Coverage ≥80% (libs) / ≥70% (apps) with upward trend.

    Lint/SAST: 0 high-severity; ≤3 medium with documented waivers.

    Image vuln scan: 0 critical/high in runtime layers.

    Build ≤10 min; unit tests ≤5 min; flakiness rate <2%.

    Mean PR cycle time ≤3 days; review latency ≤24h on active repos.

Minimal File Checklist

README.md
LICENSE
CONTRIBUTING.md
CODE_OF_CONDUCT.md
SECURITY.md
CHANGELOG.md
CODEOWNERS
.github/
  └─ workflows/ci.yml
docs/
src/
tests/
.env.example (no secrets)
pre-commit-config.yaml

“Platform-Aware” Execution Tips

    Provide both Makefile and PowerShell entry points:

        make setup && make test && make audit

        pwsh -File scripts\Invoke-Audit.ps1

    Keep WSL-friendly paths and Windows-safe line endings (.gitattributes).

    Report Template (paste into issues/wiki)

Repo: <name> • Commit/Tag: <sha/tag> • Date: <YYYY-MM-DD>
Overall Score: NN/100
Area	Score	Key Findings	Risk	Evidence
Governance				
Structure				
Build/Repro				
Code Quality				
Testing				
Security				
Deps/Supply Chain				
Docs				
CI/CD				
Observability				
Data/Validation				
Maintenance				

Top Risks (H/M/L):

    …

    …

    …

Remediations (owner • ETA):

    …

